# Дипломная работа к профессии Python-разработчик «API Сервис заказа товаров для розничных сетей».

## Описание

Приложение предназначено для автоматизации закупок в розничной сети. Пользователи сервиса — покупатель (менеджер торговой сети, который закупает товары для продажи в магазине) и поставщик товаров.

**Клиент (покупатель):**

- Менеджер закупок через API делает ежедневные закупки по каталогу, в котором
  представлены товары от нескольких поставщиков.
- В одном заказе можно указать товары от разных поставщиков — это
  повлияет на стоимость доставки.
- Пользователь может авторизироваться, регистрироваться и восстанавливать пароль через API.
    
**Поставщик:**

- Через API информирует сервис об обновлении прайса.
- Может включать и отключать прием заказов.
- Может получать список оформленных заказов (с товарами из его прайса).


### Задача  

Необходимо разработать backend-часть (Django) сервиса заказа товаров для розничных сетей.  

**Базовая часть:**  
* Разработка сервиса под готовую спецификацию (API);  
* Возможность добавления настраиваемых полей (характеристик) товаров;  
* Импорт товаров;  
* Отправка накладной на email администратора (для исполнения заказа);  
* Отправка заказа на email клиента (подтверждение приема заказа);  

**Продвинутая часть:**  
* Экспорт товаров;  
* Админка заказов (проставление статуса заказа и уведомление клиента);  
* Выделение медленных методов в отдельные процессы (email, импорт, экспорт);    

### Исходные данные  
 
1. Общее описание сервиса  
1. Спецификация (API) - 1 шт.  
1. Файлы yaml для импорта товаров - 2 шт  
1. Пример API Сервиса для магазина   

## Этапы разработки  

Разработку Backend рекомендуется разделить на следующие этапы:  

Базовая часть:  
1. Создание и настройка проекта  
2. Проработка моделей данных  
3. Реализация импорта товаров  
4. Реализация API views  
5. Полностью готовый backend  

Продвинутая часть (по желанию, если базовая часть полностью готова):  

6. Реализация forms и views админки склада  
7. Вынос медленных методов в задачи Celery  
8. Создание docker-файла для приложения  



Разберём подробно каждый этап.  

### 1. Создание и настройка проекта  

1.1 Cоздан django-проект и он запускается без ошибок.  

### 2. Проработка моделей данных

2.1 Созданы модели и их дополнительные методы.

### 3. Реализация импорта товаров

3.1 Созданы функции загрузки товаров из приложенных файлов в модели Django.  
3.2 Загружены товары из всех файлов для импорта.  

### 4. Реализация forms и views  

4.1 Реализованы API Views для основных страниц:  
   - Вход
   - Регистрация
   - Список товаров
   - Карточка товара
   - Корзина
   - Подтверждение заказа
   - Спасибо за заказ
   - Заказы
   - Заказ
   - Информация о ползователе

### 5. Полностью готовый backend  

5.1 Полностью работающие API Endpoint  
5.2 Корректно отрабатывает следующий сценарий:  
   - пользователь может авторизироваться;  
   - есть возможность отправки данных для регистрации и получения email с подтверждением регистрации;  
   - пользователь может добавлять в корзину товары от разных магазинов;  
   - пользователь может подтверждать заказ с вводом адреса доставки;  
   - пользователь получает email с подтверждением после ввода адреса доставки;  
   - Пользователь может переходить на страницу "Заказы" и открывать созданный заказ;  

---

## Продвинутая часть  
 
Обязательное условие: Базовая часть полностью готова.  

### 6. Реализация forms и views админки склада  
6.1 Пока не реализовано forms и views админки склада  

### 7. Вынос медленных методов в задачи Celery

7.1 Реализовано Celery-приложение c методами:  
   - send_email

7.2 Пока не реализовано Celery-приложение c методами:  
   - do_import (импорт, экспорт)


### 8. Создание docker-файла для приложения  
8.1 Создан docker-файл для сборки приложения.  
8.2 Создан docker-compose файл для развертывания приложения локально (с БД и необходимыми сервисами)

### 9. Создание автодокументации.
9.1 Реализована автодокументация drf-spectacular  
Путь к документации:  
/api/schema/swagger-ui/  
/api/schema/redoc/
